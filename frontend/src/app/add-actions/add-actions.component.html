<div class="form-container">
    <div class="left-section">
        <div class="image-container">
            <img src="svg/add-action-img.svg" alt="Camping Image">
        </div>
        <p class="description">Start making a difference today by adding simple, eco-friendly actions. Every step counts toward a more sustainable future.</p>
    </div>
    <div class="right-section">
        <h2>Add Details</h2>
        <h4>Track Your Activity</h4>
        <form [formGroup]="addActionForm" (ngSubmit)="onSubmit()">
            <div class="input-group">
                <input type="text" placeholder="" [class.invalid]="addActionForm.get('action')?.invalid && addActionForm.get('action')?.touched" formControlName="action">
                <label for="action">Action Name</label>
                <div class="error-message" *ngIf="addActionForm.get('action')?.invalid && addActionForm.get('action')?.touched">
                    <small *ngIf="addActionForm.get('action')?.errors?.['required']">Action name is required</small>
                    <small *ngIf="addActionForm.get('action')?.errors?.['minlength']">Action must be at least 3 characters</small>
                    <small *ngIf="addActionForm.get('action')?.errors?.['maxlength']">Action cannot exceed 50 characters</small>
                </div>
            </div>
            <div class="input-group">
                <input type="date" placeholder="" [class.invalid]="addActionForm.get('date')?.invalid && addActionForm.get('date')?.touched"
                       formControlName="date">
                <label for="date">Date</label>
                <div class="error-message" *ngIf="addActionForm.get('date')?.invalid && addActionForm.get('date')?.touched">
                    <small *ngIf="addActionForm.get('date')?.errors?.['required']">Date is required</small>
                </div>
            </div>
            <div class="input-group">
                <input type="number" placeholder="" [class.invalid]="addActionForm.get('points')?.invalid && addActionForm.get('points')?.touched"
                       formControlName="points">
                <label for="points">Points</label>
                <div class="error-message" *ngIf="addActionForm.get('points')?.invalid && addActionForm.get('points')?.touched">
                    <small *ngIf="addActionForm.get('points')?.errors?.['required']">Points are required</small>
                    <small *ngIf="addActionForm.get('points')?.errors?.['min']">Points must be at least 5</small>
                    <small *ngIf="addActionForm.get('points')?.errors?.['max']">Points cannot exceed 200</small>
                </div>
            </div>

            <div class="error-message" *ngIf="errorMessage">
                <small>{{ errorMessage }}</small>
            </div>

            <div class="buttons">
                <button type="submit" [disabled]="addActionForm.invalid">Submit</button>
                <button type="reset">Clear Form</button>
            </div>
        </form>
    </div>
</div>

<app-success-modal 
    *ngIf="showSuccessModal"
    (closeModal)="closeSuccessModal()">
</app-success-modal>

